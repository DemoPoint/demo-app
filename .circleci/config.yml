version: 2.1
jobs:
  SourceGuard:
    docker: 
      - image: sourceguard/sourceguard-cli:latest
    steps:
      - checkout # check out source code to working directory
      - run: ls .git
      - run: ls .git/objects
      - run: ls .git/objects/info
      - run: ls .git/objects/pack
      - run: ls .git/refs
      - run: ls .git/refs/remotes
      - run: ls .git/refs/tags
      - run: ls .git/refs/heads
      - run: cat .git/refs/heads/master
      - run: cat .git/HEAD
      - run: /sourceguard-cli --src ./ -d

workflows:
  version: 2
  build_and_test:
    jobs:
      - SourceGuard
